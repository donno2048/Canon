from pyaudio import PyAudio
from math import sin, pi
from time import sleep
i, stream = input("Choose which canon should I play\n").lower(), PyAudio().open(format = 32, channels = 1, rate = 96000, output = True)
assert "a" <= i <= "g"
def play(l: list, d: float) -> None: [stream.write("".join([chr(int(127.5 * (1.0 + sin((l * pi * 2 ** ((f - 49) / 12) * 440 + (2 * (ord(i) > 100) - 1) * round(1.6 * abs(ord(i) - 100) + 0.1) + 2) / 48000)))) for l in range(int(96000 * d))])) for f in l]
# The boring part, if you want to hear it too uncomment the following lines
# play([42, 37, 39, 34, 35, 30, 35, 37, 46, 44, 42, 41, 39, 37, 39, 41, 42, 41, 39, 37, 35, 34, 35, 32], 1.0)
# play([30, 34, 37, 35, 34, 30, 34, 32, 30, 39, 30, 37, 35, 39, 37, 35, 34, 30, 32, 41, 42, 46, 49, 37, 39, 35, 37, 34, 30, 42, 42, 41], 0.5)
# play([42, 41, 42, 30, 29, 37, 32, 34, 30, 42, 41, 39, 41, 46, 49, 51, 47, 46, 44, 47, 46, 44, 42, 41, 39, 37, 47, 46, 44, 47, 46, 44, 30, 32, 34, 35, 37, 32, 37, 35, 34, 39, 37, 35, 37, 35, 34, 32, 30, 39, 39, 41, 42, 41, 39, 37, 35, 34, 32, 39, 37, 39, 37, 35], 0.25)
# play([34, 46], 0.5)
# play([44], 1.0)
# sleep(0.5)
# play([42], 0.5)
# play([46, 39, 37, 39, 41], 1.0)
# play([42, 30], 0.5)
# play([29], 1.0)
# sleep(0.5)
play([39], 0.5)
play([42, 42], 1.0)
play([42, 42, 47, 44, 49], 0.5)
for _ in range(2):
    play([49], 0.25)
    play([46], 0.15) # not right but sounds better (should be 0.125)
    play([47, 49], 0.25)
    play([46, 47, 49, 37, 39, 41, 42, 44, 46, 47], 0.125)
    play([46], 0.25)
    play([42, 44], 0.125)
    play([46], 0.25)
    play([34, 35, 37, 39, 37, 35, 37, 34, 35, 37], 0.125)
    play([35], 0.25)
    play([39, 37], 0.125)
    play([35], 0.25)
    play([34, 32, 34, 32, 30, 32, 34, 35, 37, 39], 0.125)
    play([35], 0.25)
    play([39, 37], 0.125)
    play([39], 0.25)
    play([41, 42, 37, 39, 41, 42, 44, 46, 47, 49], 0.125)
    play([46], 0.25)
    play([42, 44], 0.125)
    play([46], 0.25)
    play([44, 42, 44, 37, 39, 44, 46, 44, 42, 41], 0.125)
    play([42], 0.25)
    play([39, 41], 0.125)
    play([42], 0.25)
    play([30, 32, 34, 35, 34, 32, 34, 42, 41, 42], 0.125)
    play([39], 0.25)
    play([42, 41], 0.125)
    play([39], 0.25)
    play([37, 35, 37, 35, 34, 35, 37, 39, 41, 42], 0.125)
    play([39], 0.25)
    play([42, 41], 0.125)
    play([42], 0.25)
    play([41, 39, 41, 42, 44, 42, 41, 42, 39, 41], 0.125)
# uncomment the following lines if you want to hear it too
# for __ in range(2):
#     for _ in range(2):
#         play([34], 0.5)
#         play([46, 46, 47, 46, 44], 0.25)
#         play([42], 0.5)
#         play([42, 42, 44, 42, 41], 0.25)
#         play([39, 42], 1.0)
#         play([42, 41, 39, 41], 0.25)
#         play([37], 0.5)
#         play([37], 0.25)
#         play([37], 0.5)
#         play([49, 49, 51, 49, 47], 0.25)
#         play([46], 0.5)
#         play([46, 46, 47, 46, 44, 42, 41, 39, 41], 0.25)
#         play([37], 0.5)
#         play([37], 0.25)
#         play([35, 42, 41], 0.5)
#         play([41], 0.25)
#     play([46, 44, 42, 41, 39, 37, 39, 41, 42, 41, 39, 37], 1.0)
#     play([39, 42, 46, 42], 0.5)
#     play([39, 41], 1.0)
play([42], 2)
